System.register(["./index-legacy-D5LHuywn.js"],function(t,e){"use strict";var r,i,n;return{setters:[t=>{r=t.B,i=t.z,n=t.D}],execute:function(){t({a:function(){return{state:o,reset:()=>{const t=s(a);Object.assign(o,t)},defaultSettings:s(a)}},u:function(){const t=t=>{if("metric"===c.system){const e=t*u;return e>=1?{value:Math.round(100*e)/100,unit:"cm"}:{value:Math.round(t*p*10)/10,unit:"mm"}}return{value:Math.round(100*t)/100,unit:"in"}},e=(t,e)=>{if("metric"===c.system){if("cm"===e)return t*m;if("mm"===e)return t*f}return t},r=()=>"metric"===c.system?"cm":"in";return{system:n(()=>c.system),setSystem:t=>{c.system=t;try{localStorage.setItem(l,t)}catch(e){console.warn("Failed to persist measurement system",e)}},fromInches:t,toInches:e,getUnitLabel:r,getSmallUnitLabel:()=>"metric"===c.system?"mm":"in",formatValue:(e,r=2)=>{const i=t(e);return`${i.value.toFixed(r)} ${i.unit}`},parseValue:t=>{const i=parseFloat(t);return isNaN(i)?0:e(i,r())},isImperial:n(()=>"imperial"===c.system),isMetric:n(()=>"metric"===c.system)}}});const e="appSettingsV1",a={widthMargin:10,easeAllowance:2,rfSnapSeparation:4.25,ripplefoldFullness:{60:1.8,80:2,100:2.2,120:2.4},railroadStrict:!0,fabricWidthOptions:[54,108,110,118]},s=t=>({widthMargin:t.widthMargin,easeAllowance:t.easeAllowance,rfSnapSeparation:t.rfSnapSeparation,ripplefoldFullness:{...t.ripplefoldFullness},railroadStrict:t.railroadStrict,fabricWidthOptions:[...t.fabricWidthOptions]}),o=r(function(){try{const t=localStorage.getItem(e);if(!t)return s(a);const r=JSON.parse(t),i=s(a);if("number"==typeof r.widthMargin&&(i.widthMargin=r.widthMargin),"number"==typeof r.easeAllowance&&(i.easeAllowance=r.easeAllowance),"number"==typeof r.rfSnapSeparation&&(i.rfSnapSeparation=r.rfSnapSeparation),"boolean"==typeof r.railroadStrict&&(i.railroadStrict=r.railroadStrict),r.ripplefoldFullness)for(const e of Object.keys(i.ripplefoldFullness)){const t=parseFloat(String(r.ripplefoldFullness[e]));!Number.isNaN(t)&&t>0&&(i.ripplefoldFullness[e]=t)}if(Array.isArray(r.fabricWidthOptions)){const t=[];for(const i of r.fabricWidthOptions){const e=Number(i);if(Number.isFinite(e)){const r=Math.trunc(e);r>0&&t.push(r)}}const e=Array.from(new Set(t)).sort((t,e)=>t-e);e.length&&(i.fabricWidthOptions=e)}return i}catch{return s(a)}}());i(o,t=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("Failed to persist settings",r)}},{deep:!0});const l="measurementSystem",c=r({system:function(){try{const t=localStorage.getItem(l);if("imperial"===t||"metric"===t)return t}catch{}return"imperial"}()}),u=2.54,m=1/u,p=25.4,f=1/p}}});
