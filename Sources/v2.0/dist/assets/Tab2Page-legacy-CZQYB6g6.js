System.register(["./index-legacy-D5LHuywn.js","./icon-128-legacy-CbjiCPDu.js"],function(e,t){"use strict";var a,l,r,s,n,i,o,c,u,d,y,g,h,p,f,m,b,x,v,w,k,$,_,C,F,S,A,q,U,L,O,T,I,P;return{setters:[e=>{a=e.d,l=e.u,r=e.r,s=e.W,n=e.X,i=e.L,o=e.w,c=e.b,u=e.M,d=e.a,y=e.I,g=e.e,h=e.n,p=e.t,f=e.l,m=e.c,b=e.Y,x=e.V,v=e.F,w=e.s,k=e.o,$=e.Z,_=e.$,C=e.P,F=e.f,S=e.O,A=e.m,q=e.q,U=e.h,L=e.i,O=e.j,T=e.a0,I=e._},e=>{P=e.a}],execute:function(){var t=document.createElement("style");t.textContent="[data-v-302a699f] ion-content::part(scroll){overscroll-behavior-y:contain}\n",document.head.appendChild(t);const R={class:"title-inline"},j=["src"],H={class:"title-inline"},W=["src"],D={key:0,class:"text-center py-8"},E={class:"text-gray-500 dark:text-gray-400"},J={class:"font-semibold text-gray-800 dark:text-gray-100"},N={class:"text-gray-600 dark:text-gray-300"},Y={class:"text-gray-600 dark:text-gray-300"},z={key:0,class:"text-gray-600 dark:text-gray-300"},M={class:"text-gray-600 dark:text-gray-300 flex items-center gap-2"},V={class:"text-gray-600 dark:text-gray-300"},X={key:1,class:"text-gray-600 dark:text-gray-300"},Z={slot:"end",class:"flex items-center gap-1"};e("default",I(a({__name:"Tab2Page",setup(e){const{t:t}=l(),a=r([]),I=()=>{try{const t=(e="calculationHistory",localStorage.getItem(e));t&&(a.value=JSON.parse(t))}catch(t){console.warn("Storage not available:",t)}var e},B=e=>{a.value.splice(e,1),(()=>{try{localStorage.setItem("calculationHistory",JSON.stringify(a.value))}catch(e){console.warn("Failed to save history:",e)}})()},G=async e=>{const a=`${t.value.results.title}\n\n${t.value.results.requiredFabric}: ${e.requiredFabric} ${t.value.results.yards}\n${t.value.results.dimensions} ${e.width}${e.widthFraction?" "+e.widthFraction:""} ${e.widthUnit||"in"} Ã— ${e.height}${e.heightFraction?" "+e.heightFraction:""} ${e.heightUnit||"in"}\n${t.value.results.productType} ${"1"==e.productType?t.value.results.ripplefold:t.value.results.pinchPleated}\n${t.value.results.fullness} ${e.fullness}\n${t.value.calculator.hem}: ${e.hem} ${e.hemUnit||"in"}\n${t.value.settings.easeAllowance}: ${e.easeAllowance}\n${t.value.results.fabricWidths} ${e.fabricWidths}\n${t.value.results.fabricCuts} ${e.fabricCuts}\n${t.value.results.cutLength} ${e.fabricCutLength}${e.fabricCutsFraction?" "+e.fabricCutsFraction:""} ${e.cutLengthUnit||"in"}\n${t.value.results.orientation} ${"Railroad"===e.fabricOrientation?t.value.results.railroad:t.value.results.regular}`+(e.requiredSnaps>0?`\n${t.value.results.snapsRequired} ${e.requiredSnaps}`:"");try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(a):(()=>{const e=document.createElement("textarea");e.value=a,e.setAttribute("readonly","true"),e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})()}catch(l){console.error("Failed to copy calculation:",l)}};return s(()=>{I()}),n(()=>{I(),console.log("History view entered, reloading data")}),(e,l)=>(k(),i(c(u),{class:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-neutral-900 dark:to-neutral-950"},{default:o(()=>[d(c(f),{class:"bg-white dark:bg-neutral-950 shadow-lg"},{default:o(()=>[d(c(y),{class:"bg-transparent"},{default:o(()=>[d(c(g),{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},{default:o(()=>[h("span",R,[h("img",{src:c(P),class:"w-7 h-7 rounded",alt:""},null,8,j),h("span",null,p(c(t).history.title),1)])]),_:1})]),_:1})]),_:1}),d(c(w),{class:"ion-padding",fullscreen:!0,"force-overscroll":!1},{default:o(()=>[d(c(f),{collapse:"condense",class:"bg-white dark:bg-neutral-950"},{default:o(()=>[d(c(y),{class:"bg-transparent"},{default:o(()=>[d(c(g),{size:"large",class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},{default:o(()=>[h("span",H,[h("img",{src:c(P),class:"w-7 h-7 rounded",alt:""},null,8,W),h("span",null,p(c(t).history.title),1)])]),_:1})]),_:1})]),_:1}),0===a.value.length?(k(),m("div",D,[h("p",E,p(c(t).history.noCalculationsYet),1)])):(k(),i(c(b),{key:1},{default:o(()=>[(k(!0),m(v,null,x(a.value,(e,a)=>(k(),i(c($),{key:a,class:"mb-4"},{default:o(()=>[d(c(_),{class:"bg-gray-100 dark:bg-neutral-800"},{default:o(()=>[d(c(C),{class:"text-sm font-medium text-gray-800 dark:text-gray-100"},{default:o(()=>[F(p(new Date(e.timestamp).toLocaleString()),1)]),_:2},1024)]),_:2},1024),d(c(S),{class:"bg-white dark:bg-neutral-900 rounded-lg shadow-sm"},{default:o(()=>[d(c(C),null,{default:o(()=>{return[h("h2",J,p(c(t).history.fabric)+": "+p(e.requiredFabric)+" "+p(c(t).results.yards),1),h("p",N,p(c(t).history.width)+": "+p(e.width)+" "+p(e.widthFraction||"")+" "+p(e.widthUnit||"in")+" | "+p(c(t).history.height)+": "+p(e.height)+" "+p(e.heightFraction||"")+" "+p(e.heightUnit||"in"),1),h("p",Y,p(c(t).history.product)+": "+p("1"==e.productType?c(t).results.ripplefold:c(t).results.pinchPleated)+" | "+p(c(t).results.fullness)+": "+p(e.fullness),1),"number"==typeof e.hem&&e.hem>0||"string"==typeof e.hem&&parseFloat(e.hem)>0||"number"==typeof e.easeAllowance&&e.easeAllowance>0?(k(),m("p",z,["number"==typeof e.hem&&e.hem>0||"string"==typeof e.hem&&parseFloat(e.hem)>0?(k(),m(v,{key:0},[F(p(c(t).calculator.hem)+": "+p(e.hem)+" "+p(e.hemUnit||"in"),1)],64)):A("",!0),("number"==typeof e.hem&&e.hem>0||"string"==typeof e.hem&&parseFloat(e.hem)>0)&&"number"==typeof e.easeAllowance&&e.easeAllowance>0?(k(),m(v,{key:1},[F(" | ")],64)):A("",!0),"number"==typeof e.easeAllowance&&e.easeAllowance>0?(k(),m(v,{key:2},[F(p(c(t).settings.easeAllowance)+": "+p(e.easeAllowance),1)],64)):A("",!0)])):A("",!0),h("p",M,[F(p(c(t).results.orientation)+": ",1),h("span",{class:q(["inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide border",(a=e.fabricOrientation,"Railroad"===a?"bg-emerald-500/15 text-emerald-400 border-emerald-400/40":"bg-sky-500/15 text-sky-400 border-sky-400/40")])},p("Railroad"===e.fabricOrientation?c(t).results.railroad:c(t).results.regular),3)]),h("p",V,p(c(t).history.cuts)+": "+p(e.fabricCuts)+" x "+p(e.fabricCutLength)+" "+p(e.fabricCutsFraction||"")+" "+p(e.cutLengthUnit||"in"),1),e.requiredSnaps>0?(k(),m("p",X,p(c(t).history.snaps)+": "+p(e.requiredSnaps),1)):A("",!0)];var a}),_:2},1024),h("div",Z,[d(c(U),{fill:"clear",color:"medium",onClick:t=>G(e),"aria-label":"Copy calculation"},{default:o(()=>[d(c(L),{icon:c(O)},null,8,["icon"])]),_:1},8,["onClick"]),d(c(U),{fill:"clear",color:"danger",onClick:e=>B(a),"aria-label":"Delete calculation"},{default:o(()=>[d(c(L),{icon:c(T)},null,8,["icon"])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}))}}),[["__scopeId","data-v-302a699f"]]))}}});
