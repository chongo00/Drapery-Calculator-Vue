System.register(["./index-legacy-D5LHuywn.js","./useMeasurementSystem-legacy-Ee1yW7rO.js","./icon-128-legacy-CbjiCPDu.js"],function(e,t){"use strict";var a,l,n,s,i,d,r,o,u,c,g,p,f,m,v,b,x,y,h,k,_,I,S,w,F,V,L,M,C,W,j,P,U,O,E,z;return{setters:[e=>{a=e.d,l=e.u,n=e.r,s=e.z,i=e.W,d=e.D,r=e.L,o=e.w,u=e.b,c=e.M,g=e.a,p=e.I,f=e.e,m=e.n,v=e.t,b=e.l,x=e.a1,y=e.R,h=e.S,k=e.f,_=e.a2,I=e.a3,S=e.O,w=e.P,F=e.Q,V=e.c,L=e.m,M=e.V,C=e.F,W=e.h,j=e.s,P=e.o,U=e._},e=>{O=e.u,E=e.a},e=>{z=e.a}],execute:function(){var t=document.createElement("style");t.textContent=".advanced-settings[data-v-2e7bfac5] ion-item{--background: #f9fafb;background-color:#f9fafb}.dark .advanced-settings[data-v-2e7bfac5] ion-item{--background: #0000;background-color:rgba(0,0,0,0)}.advanced-settings[data-v-2e7bfac5] ion-input,.advanced-settings[data-v-2e7bfac5] ion-input::part(input){text-align:center}.advanced-settings[data-v-2e7bfac5] ion-input::part(native){text-align:center}.advanced-settings[data-v-2e7bfac5] .align-left-input ion-input,.advanced-settings[data-v-2e7bfac5] .align-left-input ion-input::part(input),.advanced-settings[data-v-2e7bfac5] .align-left-input ion-input::part(native){text-align:left}.railroad-toggle-shell[data-v-2e7bfac5]{display:flex;justify-content:center;padding-top:.25rem;padding-bottom:.15rem}.railroad-toggle-item[data-v-2e7bfac5]::part(native){background:#f9fafb;box-shadow:none}.dark .railroad-toggle-item[data-v-2e7bfac5]::part(native){background:rgba(0,0,0,0);box-shadow:none}.railroad-toggle-item[data-v-2e7bfac5]::part(inner){border:0!important;align-items:center}ion-app.force-statusbar-padding[data-v-2e7bfac5]{--ion-safe-area-top: 20px }\n",document.head.appendChild(t);const A={class:"title-inline"},N=["src"],D={class:"max-w-md md:max-w-3xl mx-auto bg-white dark:bg-neutral-900 rounded-xl shadow-lg p-6 space-y-6"},T={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},q={class:"flex items-center justify-between"},B={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},G={class:"flex items-center justify-between gap-4"},H={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},Q={class:"flex items-center justify-between gap-4"},R={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},Z={slot:"content",class:"p-3 space-y-4 advanced-settings"},J={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},K={key:0,class:"text-xs font-semibold text-red-600 dark:text-red-400 pt-1"},X={class:"railroad-hint text-xs text-gray-500 dark:text-gray-200"},Y={class:"railroad-toggle-shell"},$={class:"space-y-2"},ee={class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},te={class:"grid grid-cols-2 sm:grid-cols-4 gap-3"},ae={class:"space-y-2"},le={class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},ne={class:"grid grid-cols-2 sm:grid-cols-4 gap-3"},se={class:"flex gap-2 pt-1"},ie={class:"pt-2"},de={class:"border-t pt-4"},re={class:"text-md font-medium text-gray-800 dark:text-gray-100 mb-2"},oe={class:"text-sm text-gray-600 dark:text-gray-300"},ue={class:"text-sm text-gray-600 dark:text-gray-300"};e("default",U(a({__name:"SettingsPage_fixed",setup(e){const{t:t,language:a,setLanguage:U}=l(),ce=O(),ge=n(!1),pe=n(!1),fe=e=>{const t=document.documentElement,a=document.body,l=document.querySelector("ion-app");t.classList.toggle("dark",e),a.classList.toggle("ion-theme-dark",e),a.classList.toggle("dark",e),l&&(l.classList.toggle("dark",e),l.classList.toggle("ion-theme-dark",e)),t.style.colorScheme=e?"dark":"light",localStorage.setItem("darkMode",e.toString())};s(ge,e=>{pe.value&&fe(e)}),i(()=>{const e=localStorage.getItem("darkMode");ge.value="true"===e,fe(ge.value),pe.value=!0});const{state:me,reset:ve}=E(),be=n(me.fabricWidthOptions.map(e=>ce.fromInches(e).value.toFixed(ce.isMetric?1:0)));be.value.length||(be.value=[""]);const xe=()=>{const e=[...be.value],t=new Set,a=[];e.forEach((l,n)=>{const s=String(null!=l?l:"").trim();if(!s)return void(e[n]="");const i=parseFloat(s);if(!isNaN(i)&&i>0){const l=ce.toInches(i,ce.getUnitLabel());if(t.has(l))e[n]="";else{t.add(l),a.push(l);const s=ce.fromInches(l);e[n]=s.value.toFixed(ce.isMetric?1:0)}}else e[n]=""}),e.length||e.push(""),be.value=e,me.fabricWidthOptions=[...a].sort((e,t)=>e-t)},ye=()=>{be.value=[...be.value,""],xe()},he=()=>{if(!be.value.length)return void(be.value=[""]);const e=[...be.value];e[e.length-1]="",be.value=e,xe()};xe();const ke=d(()=>Number(me.rfSnapSeparation)<=0),_e=d(()=>a.value),Ie=e=>{var t;const a=null==e||null===(t=e.detail)||void 0===t?void 0:t.value;!a||"en"!==a&&"es"!==a&&"fr"!==a&&"pt"!==a||U(a)},Se=e=>{var t;const a=null==e||null===(t=e.detail)||void 0===t?void 0:t.value;"imperial"!==a&&"metric"!==a||ce.setSystem(a)},we=e=>ce.fromInches(e).value.toFixed(2),Fe=(e,t)=>{var a;return((e,t)=>{const a=parseFloat(String(null!=t?t:""));if(!isFinite(a)||a<0)return;const l=ce.toInches(a,ce.getUnitLabel());me[e]=l})(e,null==t||null===(a=t.detail)||void 0===a?void 0:a.value)},Ve=(e,t)=>{var a,l,n;return l=e,n=null==t||null===(a=t.detail)||void 0===a?void 0:a.checked,void(me[l]=!!n)},Le=(e,t)=>{var a;return((e,t)=>{const a=parseFloat(String(null!=t?t:""));!isFinite(a)||a<=0||(me.ripplefoldFullness[e]=a)})(e,null==t||null===(a=t.detail)||void 0===a?void 0:a.value)},Me=()=>{ve(),be.value=me.fabricWidthOptions.map(e=>ce.fromInches(e).value.toFixed(ce.isMetric?1:0)),be.value.length||(be.value=[""]),xe()};return s(()=>ce.system.value,()=>{be.value=me.fabricWidthOptions.map(e=>ce.fromInches(e).value.toFixed(ce.isMetric?1:0)),be.value.length||(be.value=[""])}),(e,a)=>(P(),r(u(c),{class:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-neutral-900 dark:to-neutral-950"},{default:o(()=>[g(u(b),{class:"bg-white dark:bg-neutral-950 shadow-lg"},{default:o(()=>[g(u(p),{class:"bg-transparent"},{default:o(()=>[g(u(f),{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},{default:o(()=>[m("span",A,[m("img",{src:u(z),class:"w-7 h-7 rounded",alt:""},null,8,N),m("span",null,v(u(t).settings.title),1)])]),_:1})]),_:1})]),_:1}),g(u(j),{class:"ion-padding bg-transparent"},{default:o(()=>[m("div",D,[m("h2",T,v(u(t).settings.appPreferences),1),m("div",q,[m("span",B,v(u(t).settings.darkMode),1),g(u(x),{modelValue:ge.value,"onUpdate:modelValue":a[0]||(a[0]=e=>ge.value=e),slot:"end",class:"text-blue-500"},null,8,["modelValue"])]),m("div",G,[m("span",H,v(u(t).settings.language),1),g(u(y),{value:_e.value,onIonChange:Ie,interface:"action-sheet",class:"text-gray-700 dark:text-gray-100 language-select"},{default:o(()=>[g(u(h),{value:"en"},{default:o(()=>[...a[9]||(a[9]=[k("English",-1)])]),_:1}),g(u(h),{value:"es"},{default:o(()=>[...a[10]||(a[10]=[k("Español",-1)])]),_:1}),g(u(h),{value:"fr"},{default:o(()=>[...a[11]||(a[11]=[k("Français",-1)])]),_:1}),g(u(h),{value:"pt"},{default:o(()=>[...a[12]||(a[12]=[k("Português",-1)])]),_:1})]),_:1},8,["value"])]),m("div",Q,[m("span",R,v(u(t).settings.measurementSystem),1),g(u(y),{value:u(ce).system,onIonChange:Se,interface:"action-sheet",class:"text-gray-700 dark:text-gray-100"},{default:o(()=>[g(u(h),{value:"imperial"},{default:o(()=>[k(v(u(t).settings.imperial),1)]),_:1}),g(u(h),{value:"metric"},{default:o(()=>[k(v(u(t).settings.metric),1)]),_:1})]),_:1},8,["value"])]),g(u(_),{class:"mt-4"},{default:o(()=>[g(u(I),{value:"advanced"},{default:o(()=>[g(u(S),{slot:"header",class:"advanced-accordion-header rounded-lg"},{default:o(()=>[g(u(w),{class:"font-medium"},{default:o(()=>[k(v(u(t).settings.advancedCalculationSettings),1)]),_:1})]),_:1}),m("div",Z,[m("div",J,[g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg align-left-input"},{default:o(()=>[g(u(w),{position:"stacked"},{default:o(()=>[k(v(u(t).settings.sideMarginPerPanel)+" ("+v(u(ce).getUnitLabel())+")",1)]),_:1}),g(u(F),{modelValue:we(u(me).widthMargin),type:"number",onIonInput:a[1]||(a[1]=e=>Fe("widthMargin",e))},null,8,["modelValue"])]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg align-left-input"},{default:o(()=>[g(u(w),{position:"stacked"},{default:o(()=>[k(v(u(t).settings.easeAllowance)+" ("+v(u(ce).getUnitLabel())+")",1)]),_:1}),g(u(F),{modelValue:we(u(me).easeAllowance),type:"number",onIonInput:a[2]||(a[2]=e=>Fe("easeAllowance",e))},null,8,["modelValue"])]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg align-left-input"},{default:o(()=>[g(u(w),{position:"stacked"},{default:o(()=>[k(v(u(t).settings.snapSeparation)+" ("+v(u(ce).getUnitLabel())+")",1)]),_:1}),g(u(F),{modelValue:we(u(me).rfSnapSeparation),type:"number",step:"0.01",onIonInput:a[3]||(a[3]=e=>Fe("rfSnapSeparation",e))},null,8,["modelValue"]),ke.value?(P(),V("p",K,v(u(t).settings.mustBeGreaterThanZero),1)):L("",!0)]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg railroad-toggle-item"},{default:o(()=>[g(u(w),{position:"stacked"},{default:o(()=>[k(v(u(t).settings.railroadStrict),1)]),_:1}),m("p",X,v(u(t).settings.onlyIfPanelHeightLessThanFabricWidth),1),m("div",Y,[g(u(x),{class:"railroad-toggle",checked:u(me).railroadStrict,onIonChange:a[4]||(a[4]=e=>Ve("railroadStrict",e))},null,8,["checked"])])]),_:1})]),m("div",$,[m("div",ee,v(u(t).settings.ripplefoldFullnessFactors),1),m("div",te,[g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg"},{default:o(()=>[g(u(w),{position:"stacked",class:"whitespace-nowrap text-center"},{default:o(()=>[...a[13]||(a[13]=[k("60%",-1)])]),_:1}),g(u(F),{modelValue:String(u(me).ripplefoldFullness[60]),type:"number",step:"0.01",onIonInput:a[5]||(a[5]=e=>Le("60",e))},null,8,["modelValue"])]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg"},{default:o(()=>[g(u(w),{position:"stacked",class:"whitespace-nowrap text-center"},{default:o(()=>[...a[14]||(a[14]=[k("80%",-1)])]),_:1}),g(u(F),{modelValue:String(u(me).ripplefoldFullness[80]),type:"number",step:"0.01",onIonInput:a[6]||(a[6]=e=>Le("80",e))},null,8,["modelValue"])]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg"},{default:o(()=>[g(u(w),{position:"stacked",class:"whitespace-nowrap text-center"},{default:o(()=>[...a[15]||(a[15]=[k("100%",-1)])]),_:1}),g(u(F),{modelValue:String(u(me).ripplefoldFullness[100]),type:"number",step:"0.01",onIonInput:a[7]||(a[7]=e=>Le("100",e))},null,8,["modelValue"])]),_:1}),g(u(S),{lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg"},{default:o(()=>[g(u(w),{position:"stacked",class:"whitespace-nowrap text-center"},{default:o(()=>[...a[16]||(a[16]=[k("120%",-1)])]),_:1}),g(u(F),{modelValue:String(u(me).ripplefoldFullness[120]),type:"number",step:"0.01",onIonInput:a[8]||(a[8]=e=>Le("120",e))},null,8,["modelValue"])]),_:1})])]),m("div",ae,[m("div",le,v(u(t).settings.fabricWidthOptions)+" ("+v(u(ce).getUnitLabel())+")",1),m("div",ne,[(P(!0),V(C,null,M(be.value,(e,t)=>(P(),r(u(S),{key:t,lines:"none",class:"bg-gray-50 dark:bg-neutral-800 rounded-lg"},{default:o(()=>[g(u(w),{position:"stacked",class:"text-center"},{default:o(()=>[k("#"+v(t+1),1)]),_:2},1024),g(u(F),{type:"number",inputmode:"numeric",step:u(ce).isMetric?"0.1":"1",modelValue:e,onIonInput:e=>((e,t)=>{var a,l;const n=String(null!==(a=null==t||null===(l=t.detail)||void 0===l?void 0:l.value)&&void 0!==a?a:"").trim(),s=[...be.value];s[e]=n,be.value=s,xe()})(t,e)},null,8,["step","modelValue","onIonInput"])]),_:2},1024))),128))]),m("div",se,[g(u(W),{size:"small",fill:"outline",onClick:ye},{default:o(()=>[k(v(u(t).settings.addWidth),1)]),_:1}),g(u(W),{size:"small",fill:"clear",color:"medium",onClick:he},{default:o(()=>[k(v(u(t).settings.clearLast),1)]),_:1})])]),m("div",ie,[g(u(W),{fill:"outline",size:"small",onClick:Me},{default:o(()=>[k(v(u(t).settings.restoreDefaults),1)]),_:1})])])]),_:1})]),_:1}),m("div",de,[m("h3",re,v(u(t).settings.about),1),m("p",oe,v(u(t).settings.version),1),m("p",ue,v(u(t).settings.description),1)])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-2e7bfac5"]]))}}});
